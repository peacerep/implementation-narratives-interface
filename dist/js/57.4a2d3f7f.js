"use strict";(self["webpackChunkimplementation_tracker"]=self["webpackChunkimplementation_tracker"]||[]).push([[57],{3057:function(e,t,i){i.r(t),i.d(t,{default:function(){return q}});var a=i(6252),o=i(3577);const l=e=>((0,a.dD)("data-v-bc7cf4fe"),e=e(),(0,a.Cn)(),e),s={class:"country-layout"},r={class:"breadcrumb"},n=l((()=>(0,a._)("h2",null,"Explore by Agreement",-1))),c={style:{display:"flex","flex-direction":"row","align-items":"center"}},u=l((()=>(0,a._)("p",{style:{padding:"0px 10px"}},"Sort by:",-1))),p={class:"paginationClass"};function d(e,t,i,l,d,g){const y=(0,a.up)("trackerHeader"),m=(0,a.up)("el-link"),h=(0,a.up)("CaretRight"),f=(0,a.up)("el-icon"),w=(0,a.up)("countryHeader"),b=(0,a.up)("el-header"),C=(0,a.up)("topicByCategoryList"),L=(0,a.up)("el-aside"),v=(0,a.up)("el-divider"),_=(0,a.up)("el-radio"),k=(0,a.up)("el-radio-group"),D=(0,a.up)("docList"),W=(0,a.up)("el-pagination"),$=(0,a.up)("el-main"),x=(0,a.up)("el-container");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(y),(0,a._)("div",s,[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(m,{class:"country-title",onClick:g.home},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1},8,["onClick"]),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h)])),_:1}),(0,a.Wm)(m,{class:"country-title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(this.title)+" Agreements",1)])),_:1})]),(0,a.Wm)(w,{title:d.title},null,8,["title"])])),_:1}),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L,{width:"50%"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{topicByCategory:this.topicByCategory,countryName:this.countryName},null,8,["topicByCategory","countryName"])])),_:1}),(0,a.Wm)(v,{direction:"vertical"}),(0,a.Wm)($,null,{default:(0,a.w5)((()=>[n,(0,a._)("div",c,[u,(0,a.Wm)(k,{modelValue:d.reverse,"onUpdate:modelValue":t[0]||(t[0]=e=>d.reverse=e),onChange:t[1]||(t[1]=e=>g.reverseList()),class:"radio-group"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"1"},{default:(0,a.w5)((()=>[(0,a.Uk)("Newest")])),_:1}),(0,a.Wm)(_,{label:"2"},{default:(0,a.w5)((()=>[(0,a.Uk)("Oldest")])),_:1})])),_:1},8,["modelValue"])]),(0,a.Wm)(D,{dataListDisplayed:d.dataListDisplayed.slice(d.sizePerPage*(d.currentPage-1),d.sizePerPage*d.currentPage),title:d.title},null,8,["dataListDisplayed","title"]),(0,a._)("div",p,[(0,a.Wm)(W,{"page-size":d.sizePerPage,total:this.dataListDisplayed.length,"hide-on-single-page":"",onCurrentChange:g.currentChange},null,8,["page-size","total","onCurrentChange"])])])),_:1})])),_:1})])),_:1})])],64)}i(7658);var g=i(2201),y=i(8589);const m={class:"country"},h=(0,a._)("p",null,"Please select an agreement to explore reports on how different provisions and topics were implemented.",-1);function f(e,t,i,l,s,r){return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("h1",null,"Implementation of Past "+(0,o.zw)(i.title)+" Agreements",1),h])}var w={props:["title"]},b=i(3744);const C=(0,b.Z)(w,[["render",f]]);var L=C,v=i(9963);const _={class:"doc-wrapper"},k={class:"agt-time"},D={style:{"padding-left":"5px","font-weight":"800"}},W={class:"topic-box"};function $(e,t,i,l,s,r){const n=(0,a.up)("el-link"),c=(0,a.up)("ArrowUpBold"),u=(0,a.up)("el-icon"),p=(0,a.up)("ArrowDownBold"),d=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.dataListDisplayed,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"doc-list",key:t},[(0,a.Wm)(n,{underline:!1,class:"agt-link",onClick:t=>r.toAgtView(e)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.agt),1)])),_:2},1032,["onClick"]),(0,a._)("p",k,"Signed date: "+(0,o.zw)(e.date),1),(0,a.Wm)(d,{text:"",class:"topic-button",onClick:e=>r.showTopics(t)},{default:(0,a.w5)((()=>[s.openedIndex===t?((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})):((0,a.wg)(),(0,a.j4)(u,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(p)])),_:1})),(0,a._)("p",D,(0,o.zw)(e.totalUniqueSubCats)+" topics found",1)])),_:2},1032,["onClick"]),(0,a.wy)((0,a._)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categoryList,((t,i)=>((0,a.wg)(),(0,a.iD)("div",{key:i},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.subCategoryList,((t,i)=>((0,a.wg)(),(0,a.j4)(n,{key:i,title:t,class:"topic-link",underline:!1,onClick:i=>r.toAgtView_subCat(e,t,this.country)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t),1)])),_:2},1032,["title","onClick"])))),128))])))),128))],512),[[v.F8,s.openedIndex===t]])])))),128))])}var x={props:["dataListDisplayed","title"],data(){return{country:this.title,openedIndex:-1,activeCategory:[],activeSubcategory:{}}},methods:{toAgtView(e){console.log("select agreement",e);let t={title:`${this.country}`,id:`${e.id}`,agtName:`${e.agt}`,agtDate:`${e.date}`};if(e.topics&&e.topics.length>0&&(t.topic=`${e.topics[0]}`),e.categoryList&&e.categoryList.length>0){let i=e.categoryList[0];t.category=i.label,i.subCategoryList&&i.subCategoryList.length>0&&(t.subCatAsTopic=`${i.subCategoryList[0]}`)}console.log("toAgtView",t),this.$router.push({name:"agreement",query:t})},toAgtView_topic(e,t){this.$router.push({name:"agreement",query:{title:`${this.country}`,id:`${e.id}`,agtName:`${e.agt}`,agtDate:`${e.date}`,topic:`${t}`}})},toAgtView_subCat(e,t,i){console.log("toAgtView_subCat",e,t,i)},showTopics(e){this.openedIndex=this.openedIndex===e?-1:e}}};const V=(0,b.Z)(x,[["render",$]]);var z=V;const A=e=>((0,a.dD)("data-v-49d1fb2f"),e=e(),(0,a.Cn)(),e),P=A((()=>(0,a._)("h2",null,"Explore by Topics",-1))),H={class:"topic-collapse-container"};function U(e,t,i,l,s,r){const n=(0,a.up)("el-link"),c=(0,a.up)("el-collapse-item"),u=(0,a.up)("el-collapse"),p=(0,a.up)("el-scrollbar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[P,(0,a.Wm)(p,{height:"80vh"},{default:(0,a.w5)((()=>[(0,a._)("div",H,[(0,a.Wm)(u,{class:"outer-collapse",modelValue:s.activeCategory,"onUpdate:modelValue":t[0]||(t[0]=e=>s.activeCategory=e),accordion:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.topicByCategory,((e,t)=>((0,a.wg)(),(0,a.j4)(c,{key:t,title:e.categoryLabel,name:e.categoryLabel},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.subcategories,((e,i)=>((0,a.wg)(),(0,a.j4)(n,{key:i,title:e.label,class:"topic-link",underline:!1,name:`${t}-${i}`,onClick:t=>r.toSubCategoryView(e,this.countryName)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.label),1)])),_:2},1032,["title","name","onClick"])))),128))])),_:2},1032,["title","name"])))),128))])),_:1},8,["modelValue"])])])),_:1})],64)}var I={props:["topicByCategory","countryName"],data(){return{activeCategory:[],activeSubcategory:{}}},methods:{toTopicView(e,t){this.$router.push({name:"topic",query:{id:`${e.id}`,topicText:`${e.topic}`,country:`${t}`}})},toSubCategoryView(e,t){this.$router.push({name:"subCategoryList",query:{subCategory:`${e.label}`,country:`${t}`}})}}};const B=(0,b.Z)(I,[["render",U],["__scopeId","data-v-49d1fb2f"]]);var N=B,S=i(1634),O={components:{countryHeader:L,docList:z,topicByCategoryList:N,trackerHeader:y.Z},data(){return{title:this.countryName,dataListDisplayed:this.agreementList,allAgt:this.agreementList,allOptions:this.topicOptions,filterList:[{title:"agreements by topics",value:this.topicOptions},{title:"agreements by years",value:this.yearOptions}],sizePerPage:5,currentPage:1,reverse:"1"}},methods:{changeDisplayList(e){this.dataListDisplayed=e},currentChange(e){this.currentPage=e},home(){this.$router.push("/")},reverseList(){this.reverse&&(this.dataListDisplayed=this.dataListDisplayed.reverse())}},mounted(){this.reverseList()},setup(){const e=(0,g.yj)();let t=e.query.title,i={},a=[];for(let p of S.h)p.name==t&&(i=p);let o=[],l=[],s=[],r=[];for(let p of i.topics){let e=p.text;l.push(e);let t=p.id;o.push({id:t,topic:e});for(let i of p.category){let e=i[0],t=i[1],a=r.find((t=>t.categoryLabel===e));a||(a={categoryLabel:e,subcategories:[]},r.push(a));let o=a.subcategories.find((e=>e.label===t));o||(o={label:t,topicList:[]},a.subcategories.push(o)),o.topicList.push({id:p.id,topic:p.text})}for(let i of p.agreements){let o=i.name,l=i.id,r="",n=i.date.toString(),c=n.slice(0,4),u=n.slice(4,6),d=n.slice(6,8);r=c+"-"+u+"-"+d;let g=a.find((e=>e.agt===o));g?(g.topics.push(e),g.topicsID.push({id:t,topic:e}),p.category.forEach((e=>{let t=e[0],i=e[1],a=g.categoryList.find((e=>e.label===t));a?a.subCategoryList.includes(i)||a.subCategoryList.push(i):g.categoryList.push({label:t,subCategoryList:[i]})}))):(g={agt:o,id:l,date:r,year:c,categoryList:p.category.map((e=>({label:e[0],subCategoryList:[e[1]]}))),topics:[e],topicsID:[{id:t,topic:e}]},a.push(g),s.includes(c)||s.push(c))}}for(let p of a)p.topicsID.sort(((e,t)=>e.topic<t.topic?-1:e.topic>t.topic?1:0)),p.topics.sort();o.sort(((e,t)=>e.topic<t.topic?-1:e.topic>t.topic?1:0));let n={};for(let p of o)n[p.topic]||(n[p.topic]=[]),n[p.topic].includes(p.id)||n[p.topic].push(p.id);let c=Object.keys(n).filter((e=>n[e].length>1)),u=o.filter((e=>c.includes(e.topic)));console.log(u),a.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));for(let p of a){let e=new Set;for(let t of p.categoryList)for(let i of t.subCategoryList)e.add(i);p.totalUniqueSubCats=e.size}return{countryName:t,data:i,agreementList:a,topicOptions:l,yearOptions:s,topicByCategory:r}}};const j=(0,b.Z)(O,[["render",d],["__scopeId","data-v-bc7cf4fe"]]);var q=j}}]);
//# sourceMappingURL=57.4a2d3f7f.js.map